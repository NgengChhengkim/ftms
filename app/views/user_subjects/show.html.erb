<% provide :title, t("subjects.subject") %>

<div class="container-fluid">
  <div clss="row">
    <div class="col-md-2 sidebar leftsidebar">
      <ul class="nav">
        <li><h1 class="title"><%= link_to @course.name, user_courses_path %><h1></li>
        <% @user_course.user_subjects.each do |user_subject| %>
          <li>
            <%= link_to user_subject.subject.name,
              user_course_user_subject_path(@user_course, user_subject) %>
          </li>
        <% end %>
      </ul>
    </div>

    <div class="col-md-8 col-md-offset-1">
      <div class="well sidebar main">
        <h1 class="title"><%= @user_subject.subject.name %></h1>
        <p><h5><%= @user_subject.subject.description %></h5></p>
        <%= form_for [@user_course, @user_subject] do |f| %>
          <div class="row">
            <%= f.fields_for :user_tasks do |builder| %>
              <ul>
                <li>
                  <%= builder.check_box :_destroy, {checked: builder.object.persisted?,
                    disabled: builder.object.persisted?}, "0" , "1" %>
                  <%= builder.hidden_field :task_id %>
                  <%= builder.object.task.try :name %>        
                </li>
              </ul>
            <% end %>
          </div>
          <div>
            <%= f.submit t("tasks.update"), class: "btn btn-primary" %>
          </div>
        <% end %>
      </div> 
    </div>

    <div class="col-md-2 sidebar rightsidebar">
      <ul class="nav">
        <h1 class="title"><li><%= t "member" %></li></h1>
        <% @course.user_courses.each do |user_course| %>
          <li><%= link_to user_course.user.name, user_path(user_course.user) %></li>
        <% end %>
      </ul>
    </div>
  </div>
</div>
